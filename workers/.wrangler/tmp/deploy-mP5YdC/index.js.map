{
  "version": 3,
  "sources": ["../../../src/utils/response.js", "../../../src/utils/resend.js", "../../../src/handlers/contact.js", "../../../src/handlers/subscribe.js", "../../../src/utils/jwt.js", "../../../src/handlers/admin/login.js", "../../../src/handlers/admin/config.js", "../../../src/handlers/admin/themes.js", "../../../src/index.js"],
  "sourceRoot": "/Users/darling/Downloads/Automation Project/labubu/workers/.wrangler/tmp/deploy-mP5YdC",
  "sourcesContent": ["// CORS \u5934\nexport const corsHeaders = {\n  'Access-Control-Allow-Origin': '*',\n  'Access-Control-Allow-Methods': 'GET, POST, OPTIONS',\n  'Access-Control-Allow-Headers': 'Content-Type, Authorization',\n};\n\n// JSON \u54CD\u5E94\nexport function jsonResponse(data, status = 200) {\n  return new Response(JSON.stringify(data), {\n    status,\n    headers: {\n      'Content-Type': 'application/json',\n      ...corsHeaders,\n    },\n  });\n}\n", "/**\n * Resend API \u5BA2\u6237\u7AEF\uFF08\u9002\u7528\u4E8E Cloudflare Workers\uFF09\n */\n\nexport async function sendEmail(apiKey, options) {\n  const { from, to, subject, html } = options;\n\n  const response = await fetch('https://api.resend.com/emails', {\n    method: 'POST',\n    headers: {\n      'Authorization': `Bearer ${apiKey}`,\n      'Content-Type': 'application/json',\n    },\n    body: JSON.stringify({\n      from,\n      to: Array.isArray(to) ? to : [to],\n      subject,\n      html,\n    }),\n  });\n\n  if (!response.ok) {\n    const error = await response.text();\n    throw new Error(`Resend API error: ${response.status} - ${error}`);\n  }\n\n  return await response.json();\n}\n", "import { jsonResponse } from '../utils/response.js';\nimport { sendEmail } from '../utils/resend.js';\n\nconst CONFIG_KEY = 'site_config';\n\n// \u83B7\u53D6\u90AE\u4EF6\u914D\u7F6E\nasync function getEmailConfig(env) {\n  let config = {};\n  \n  try {\n    const stored = await env.CONFIG_KV.get(CONFIG_KEY, 'json');\n    if (stored) config = stored;\n  } catch (e) {\n    console.log('KV not available, using env vars');\n  }\n\n  return {\n    contactEmail: config.contactEmail || env.CONTACT_EMAIL || 'info@labubuwholesale.com',\n    fromEmail: config.fromEmail || env.FROM_EMAIL || 'noreply@labubuwholesale.com',\n    fromName: config.fromName || 'Labubu Wholesale',\n  };\n}\n\nexport async function handleContact(request, env) {\n  try {\n    const { name, email, company, phone, quantity, message } = await request.json();\n\n    if (!name || !email || !message) {\n      return jsonResponse({ success: false, msg: 'Please fill in all required fields' }, 400);\n    }\n\n    // \u83B7\u53D6\u52A8\u6001\u914D\u7F6E\n    const emailConfig = await getEmailConfig(env);\n\n    await sendEmail(env.RESEND_API_KEY, {\n      from: `${emailConfig.fromName} <${emailConfig.fromEmail}>`,\n      to: emailConfig.contactEmail,\n      subject: `New Quote Request - ${name}`,\n      html: `\n        <h2>New Quote Request</h2>\n        <table style=\"border-collapse: collapse; width: 100%; max-width: 600px;\">\n          <tr><td style=\"padding: 10px; border: 1px solid #ddd; font-weight: bold;\">Name</td><td style=\"padding: 10px; border: 1px solid #ddd;\">${name}</td></tr>\n          <tr><td style=\"padding: 10px; border: 1px solid #ddd; font-weight: bold;\">Email</td><td style=\"padding: 10px; border: 1px solid #ddd;\">${email}</td></tr>\n          <tr><td style=\"padding: 10px; border: 1px solid #ddd; font-weight: bold;\">Company</td><td style=\"padding: 10px; border: 1px solid #ddd;\">${company || 'Not provided'}</td></tr>\n          <tr><td style=\"padding: 10px; border: 1px solid #ddd; font-weight: bold;\">Phone</td><td style=\"padding: 10px; border: 1px solid #ddd;\">${phone || 'Not provided'}</td></tr>\n          <tr><td style=\"padding: 10px; border: 1px solid #ddd; font-weight: bold;\">Quantity</td><td style=\"padding: 10px; border: 1px solid #ddd;\">${quantity || 'Not specified'}</td></tr>\n          <tr><td style=\"padding: 10px; border: 1px solid #ddd; font-weight: bold;\">Message</td><td style=\"padding: 10px; border: 1px solid #ddd;\">${message}</td></tr>\n        </table>\n      `,\n    });\n\n    return jsonResponse({ success: true, msg: 'Message sent successfully!' });\n  } catch (error) {\n    console.error('Contact error:', error);\n    return jsonResponse({ success: false, msg: 'Failed to send message' }, 500);\n  }\n}\n", "import { jsonResponse } from '../utils/response.js';\nimport { sendEmail } from '../utils/resend.js';\n\nconst CONFIG_KEY = 'site_config';\n\n// \u83B7\u53D6\u90AE\u4EF6\u914D\u7F6E\nasync function getEmailConfig(env) {\n  let config = {};\n  \n  try {\n    const stored = await env.CONFIG_KV.get(CONFIG_KEY, 'json');\n    if (stored) config = stored;\n  } catch (e) {\n    console.log('KV not available, using env vars');\n  }\n\n  return {\n    contactEmail: config.contactEmail || env.CONTACT_EMAIL || 'info@labubuwholesale.com',\n    fromEmail: config.fromEmail || env.FROM_EMAIL || 'noreply@labubuwholesale.com',\n    fromName: config.fromName || 'Labubu Wholesale',\n    siteName: config.siteName || 'Labubu Wholesale',\n  };\n}\n\nexport async function handleSubscribe(request, env) {\n  try {\n    const { email } = await request.json();\n\n    if (!email || !email.includes('@')) {\n      return jsonResponse({ success: false, msg: 'Please enter a valid email' }, 400);\n    }\n\n    // \u83B7\u53D6\u52A8\u6001\u914D\u7F6E\n    const emailConfig = await getEmailConfig(env);\n\n    // \u901A\u77E5\u7BA1\u7406\u5458\n    await sendEmail(env.RESEND_API_KEY, {\n      from: `${emailConfig.fromName} <${emailConfig.fromEmail}>`,\n      to: emailConfig.contactEmail,\n      subject: 'New Newsletter Subscription',\n      html: `<h2>New Subscription</h2><p><strong>${email}</strong></p>`,\n    });\n\n    // \u53D1\u9001\u6B22\u8FCE\u90AE\u4EF6\n    await sendEmail(env.RESEND_API_KEY, {\n      from: `${emailConfig.fromName} <${emailConfig.fromEmail}>`,\n      to: email,\n      subject: `Welcome to ${emailConfig.siteName} Newsletter!`,\n      html: `\n        <h1 style=\"color: #f97316;\">Welcome to ${emailConfig.siteName}!</h1>\n        <p>Thank you for subscribing to our newsletter.</p>\n        <p>You'll be the first to know about new products and exclusive deals!</p>\n      `,\n    });\n\n    return jsonResponse({ success: true, msg: 'Subscribed successfully!' });\n  } catch (error) {\n    console.error('Subscribe error:', error);\n    return jsonResponse({ success: false, msg: 'Failed to subscribe' }, 500);\n  }\n}\n", "/**\n * \u7B80\u5355\u7684 JWT \u5B9E\u73B0\uFF08\u9002\u7528\u4E8E Cloudflare Workers\uFF09\n */\n\n// Base64URL \u7F16\u7801\nfunction base64UrlEncode(str) {\n  return btoa(str)\n    .replace(/\\+/g, '-')\n    .replace(/\\//g, '_')\n    .replace(/=/g, '');\n}\n\n// Base64URL \u89E3\u7801\nfunction base64UrlDecode(str) {\n  str = str.replace(/-/g, '+').replace(/_/g, '/');\n  while (str.length % 4) str += '=';\n  return atob(str);\n}\n\n// HMAC-SHA256 \u7B7E\u540D\nasync function sign(message, secret) {\n  const encoder = new TextEncoder();\n  const key = await crypto.subtle.importKey(\n    'raw',\n    encoder.encode(secret),\n    { name: 'HMAC', hash: 'SHA-256' },\n    false,\n    ['sign']\n  );\n  const signature = await crypto.subtle.sign('HMAC', key, encoder.encode(message));\n  return base64UrlEncode(String.fromCharCode(...new Uint8Array(signature)));\n}\n\n// \u751F\u6210 Token\nexport async function generateToken(payload, secret) {\n  const header = base64UrlEncode(JSON.stringify({ alg: 'HS256', typ: 'JWT' }));\n  const body = base64UrlEncode(JSON.stringify({\n    ...payload,\n    exp: Date.now() + 24 * 60 * 60 * 1000, // 24 \u5C0F\u65F6\u8FC7\u671F\n  }));\n  const signature = await sign(`${header}.${body}`, secret);\n  return `${header}.${body}.${signature}`;\n}\n\n// \u9A8C\u8BC1 Token\nexport async function verifyToken(token, secret) {\n  try {\n    const [header, body, signature] = token.split('.');\n    const expectedSig = await sign(`${header}.${body}`, secret);\n    \n    if (signature !== expectedSig) return null;\n    \n    const payload = JSON.parse(base64UrlDecode(body));\n    if (payload.exp < Date.now()) return null;\n    \n    return payload;\n  } catch {\n    return null;\n  }\n}\n", "import { jsonResponse } from '../../utils/response.js';\nimport { generateToken } from '../../utils/jwt.js';\n\nexport async function handleLogin(request, env) {\n  try {\n    const { username, password } = await request.json();\n\n    // \u4ECE\u73AF\u5883\u53D8\u91CF\u83B7\u53D6\u7BA1\u7406\u5458\u51ED\u636E\n    const adminUsername = env.ADMIN_USERNAME || 'admin';\n    const adminPassword = env.ADMIN_PASSWORD;\n    const jwtSecret = env.JWT_SECRET || 'your-secret-key-change-in-production';\n\n    if (!adminPassword) {\n      return jsonResponse({ success: false, msg: 'Admin not configured' }, 500);\n    }\n\n    if (username !== adminUsername || password !== adminPassword) {\n      return jsonResponse({ success: false, msg: 'Invalid credentials' }, 401);\n    }\n\n    // \u751F\u6210 token\n    const token = await generateToken({ username, role: 'admin' }, jwtSecret);\n\n    return jsonResponse({\n      success: true,\n      token,\n      msg: 'Login successful'\n    });\n  } catch (error) {\n    console.error('Login error:', error);\n    return jsonResponse({ success: false, msg: 'Login failed' }, 500);\n  }\n}\n", "import { jsonResponse } from '../../utils/response.js';\nimport { verifyToken } from '../../utils/jwt.js';\n\nconst CONFIG_KEY = 'site_config';\n\n// \u9ED8\u8BA4\u914D\u7F6E\nconst defaultConfig = {\n  contactEmail: '',\n  fromEmail: '',\n  fromName: 'Labubu Wholesale',\n  activeTheme: 'labubu',\n  siteName: 'Labubu Wholesale',\n  siteDescription: 'Premium designer collectibles',\n};\n\n// \u89E6\u53D1 Cloudflare Pages \u91CD\u65B0\u6784\u5EFA\nasync function triggerDeploy(deployHookUrl) {\n  if (!deployHookUrl) return { triggered: false, reason: 'No deploy hook configured' };\n  \n  try {\n    const res = await fetch(deployHookUrl, { method: 'POST' });\n    if (res.ok) {\n      return { triggered: true };\n    }\n    return { triggered: false, reason: `Deploy hook returned ${res.status}` };\n  } catch (error) {\n    return { triggered: false, reason: error.message };\n  }\n}\n\nexport async function handleConfig(request, env) {\n  const jwtSecret = env.JWT_SECRET || 'your-secret-key-change-in-production';\n\n  // GET \u8BF7\u6C42\n  if (request.method === 'GET') {\n    try {\n      // \u68C0\u67E5\u662F\u5426\u6709 token\n      const authHeader = request.headers.get('Authorization');\n      let isAdmin = false;\n      \n      if (authHeader) {\n        const token = authHeader.replace('Bearer ', '');\n        const payload = await verifyToken(token, jwtSecret);\n        isAdmin = payload && payload.role === 'admin';\n      }\n\n      let config = await env.CONFIG_KV.get(CONFIG_KEY, 'json');\n      if (!config) config = defaultConfig;\n\n      // \u975E\u7BA1\u7406\u5458\u53EA\u8FD4\u56DE\u516C\u5F00\u914D\u7F6E\n      if (!isAdmin) {\n        return jsonResponse({\n          success: true,\n          config: {\n            activeTheme: config.activeTheme,\n            siteName: config.siteName,\n            siteDescription: config.siteDescription,\n          }\n        });\n      }\n\n      // \u7BA1\u7406\u5458\u8FD4\u56DE\u5B8C\u6574\u914D\u7F6E\n      return jsonResponse({\n        success: true,\n        config: {\n          ...config,\n          _effectiveContactEmail: config.contactEmail || env.CONTACT_EMAIL || 'Not set',\n          _effectiveFromEmail: config.fromEmail || env.FROM_EMAIL || 'Not set',\n        }\n      });\n    } catch (error) {\n      console.error('Get config error:', error);\n      return jsonResponse({ success: false, msg: 'Failed to get config' }, 500);\n    }\n  }\n\n  // POST \u8BF7\u6C42 - \u9700\u8981\u7BA1\u7406\u5458\u6743\u9650\n  if (request.method === 'POST') {\n    try {\n      const authHeader = request.headers.get('Authorization');\n      if (!authHeader) {\n        return jsonResponse({ success: false, msg: 'No token provided' }, 401);\n      }\n\n      const token = authHeader.replace('Bearer ', '');\n      const payload = await verifyToken(token, jwtSecret);\n\n      if (!payload || payload.role !== 'admin') {\n        return jsonResponse({ success: false, msg: 'Invalid or expired token' }, 401);\n      }\n\n      const updates = await request.json();\n\n      // \u83B7\u53D6\u5F53\u524D\u914D\u7F6E\n      let config = await env.CONFIG_KV.get(CONFIG_KEY, 'json');\n      if (!config) config = defaultConfig;\n\n      // \u5408\u5E76\u66F4\u65B0\n      const newConfig = {\n        ...config,\n        ...updates,\n        updatedAt: new Date().toISOString(),\n        updatedBy: payload.username,\n      };\n\n      // \u4FDD\u5B58\u914D\u7F6E\n      await env.CONFIG_KV.put(CONFIG_KEY, JSON.stringify(newConfig));\n\n      // \u5982\u679C\u4E3B\u9898\u53D8\u4E86\uFF0C\u89E6\u53D1\u91CD\u65B0\u6784\u5EFA\n      let deployResult = null;\n      if (updates.activeTheme && updates.activeTheme !== config.activeTheme) {\n        deployResult = await triggerDeploy(env.DEPLOY_HOOK_URL);\n      }\n\n      return jsonResponse({\n        success: true,\n        msg: deployResult?.triggered \n          ? 'Config saved. Rebuild triggered, please wait a few minutes.' \n          : 'Config updated successfully',\n        config: newConfig,\n        deploy: deployResult\n      });\n    } catch (error) {\n      console.error('Update config error:', error);\n      return jsonResponse({ success: false, msg: 'Failed to update config' }, 500);\n    }\n  }\n\n  return jsonResponse({ success: false, msg: 'Method not allowed' }, 405);\n}\n", "import { jsonResponse } from '../../utils/response.js';\n\n// \u53EF\u7528\u4E3B\u9898\u914D\u7F6E\nconst availableThemes = {\n  labubu: {\n    id: 'labubu',\n    name: 'Labubu Wholesale',\n    description: 'Labubu \u6279\u53D1\u4E3B\u9898 - \u8BBE\u8BA1\u5E08\u6536\u85CF\u54C1',\n    preview: '/themes/labubu/logo1.webp',\n  },\n  b: {\n    id: 'b',\n    name: 'Theme B',\n    description: '\u4E3B\u9898 B',\n    preview: '/themes/b/logo1.webp',\n  },\n};\n\nexport async function handleThemes(request, env) {\n  try {\n    const themes = Object.values(availableThemes);\n    return jsonResponse({ success: true, themes });\n  } catch (error) {\n    console.error('Get themes error:', error);\n    return jsonResponse({ success: false, msg: 'Failed to get themes' }, 500);\n  }\n}\n", "/**\n * Labubu API - Cloudflare Workers\n * \u5904\u7406\u90AE\u4EF6\u53D1\u9001\u548C\u540E\u53F0\u7BA1\u7406\n */\n\nimport { handleContact } from './handlers/contact.js';\nimport { handleSubscribe } from './handlers/subscribe.js';\nimport { handleLogin } from './handlers/admin/login.js';\nimport { handleConfig } from './handlers/admin/config.js';\nimport { handleThemes } from './handlers/admin/themes.js';\n\n// CORS \u5934\nconst corsHeaders = {\n  'Access-Control-Allow-Origin': '*',\n  'Access-Control-Allow-Methods': 'GET, POST, OPTIONS',\n  'Access-Control-Allow-Headers': 'Content-Type, Authorization',\n};\n\n// \u5904\u7406 OPTIONS \u9884\u68C0\u8BF7\u6C42\nfunction handleOptions() {\n  return new Response(null, { headers: corsHeaders });\n}\n\n// JSON \u54CD\u5E94\nfunction jsonResponse(data, status = 200) {\n  return new Response(JSON.stringify(data), {\n    status,\n    headers: {\n      'Content-Type': 'application/json',\n      ...corsHeaders,\n    },\n  });\n}\n\nexport default {\n  async fetch(request, env, ctx) {\n    const url = new URL(request.url);\n    const path = url.pathname;\n\n    // \u5904\u7406 CORS \u9884\u68C0\n    if (request.method === 'OPTIONS') {\n      return handleOptions();\n    }\n\n    try {\n      // \u6839\u8DEF\u5F84 - API \u72B6\u6001\n      if (path === '/' || path === '') {\n        return jsonResponse({\n          success: true,\n          msg: 'Labubu API is running',\n          endpoints: [\n            'POST /api/contact',\n            'POST /api/subscribe',\n            'POST /api/admin/login',\n            'GET/POST /api/admin/config',\n            'GET /api/admin/themes'\n          ]\n        });\n      }\n\n      // \u8DEF\u7531\n      if (path === '/api/contact' && request.method === 'POST') {\n        return await handleContact(request, env);\n      }\n\n      if (path === '/api/subscribe' && request.method === 'POST') {\n        return await handleSubscribe(request, env);\n      }\n\n      if (path === '/api/admin/login' && request.method === 'POST') {\n        return await handleLogin(request, env);\n      }\n\n      if (path === '/api/admin/config') {\n        return await handleConfig(request, env);\n      }\n\n      if (path === '/api/admin/themes' && request.method === 'GET') {\n        return await handleThemes(request, env);\n      }\n\n      // 404\n      return jsonResponse({ success: false, msg: 'Not found' }, 404);\n\n    } catch (error) {\n      console.error('Error:', error);\n      return jsonResponse({ success: false, msg: 'Internal server error' }, 500);\n    }\n  },\n};\n"],
  "mappings": "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",
  "names": ["CONFIG_KEY", "getEmailConfig", "CONFIG_KEY", "corsHeaders", "jsonResponse"]
}
